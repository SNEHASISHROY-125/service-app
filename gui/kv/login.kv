#:import Window kivy.core.window.Window


<LoginScreen@Screen>:
    name: 'login'
    
    FitImage:
        source: app.image_list[0]
    MDIconButton:
        icon: "skip-previous-circle"
        text: "Home"
        icon_size: "32sp"  
        size_hint: None, None
        size: dp(400), dp(80)
        pos_hint: {'top': 1, 'center_x': 0.3}
        on_release: app.root.current = 'services' if not app.last_screen else app.last_screen
    MDFloatLayout:
		MDCard:
			size_hint: None, None
			size: Window.size[0]*0.8, Window.size[1]*0.6
			pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			elevation: 0
			radius: [20, 20, 20, 20]
			md_bg_color: rgba(179, 218, 255, 80)
			pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			MDBoxLayout:
				padding: dp(20)
				orientation: "vertical"
				spacing: dp(10)
				# pos_hint: {'center_x': 0.5, 'center_y': 0.7}
				# md_bg_color: 0, 0, 1, 1
				AsyncImage:
					source: 'kv/password.png'
					size_hint_y: None
					height: Window.size[1]*0.17
					# pos_hint: {'center_y': 0.9}
				MDLabel:
					text: "Good to see you Back"
					font_style: "H5"
					halign: "center"
					size_hint_y: None
					height: self.texture_size[1]
					# pos_hint: {'center_y': 0.9}
					# md_bg_color: 0, 0, 1, 1
				MDLabel:
					text: "We'll send you a one-time code to verify"
					font_style: "Caption"
					halign: "center"
					size_hint_y: None
					height: self.texture_size[1]
				MDLabel:
					text: " "
					size_hint_x: 0.01
					# md_bg_color: 0, 0, 1, 1
				MDTextField:
					id: email
					mode: "rectangle"
					hint_text: "Email" if app.email else 'Phone'
					pos_hint: {'center_x': 0.5, 'center_y': 0.5}
					max_text_length: 50 if app.email else 10
					input_filter: "int" if not app.email else None
					text: app.email
				MDLabel:
					text: " "
					size_hint_x: 0.08
				MDRaisedButton: 
					text: "Send OTP"
					pos_hint: {'center_x': 0.5, 'center_y': 0.3}
					on_release: 
						setattr(app, 'last_screen', 'login')
						
				MDLabel:
					text: "Proceed to agree with our Privacy Policy"
					# size_hint_x: 0.08
					halign: "center"
					theme_text_color: "Secondary"
					font_style: "Caption"
   